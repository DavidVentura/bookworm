<!DOCTYPE html>
<html ng-app="app">
	<head>
		<script src="js/angular.min.js"></script>
		<script src="js/app.js"></script>
		<style>
			body { width: 70%; margin:0px auto; }
			td { padding: 5px; }
			input[type=text] {background-color:white;color:black;}
		</style>
	</head>
<body>
	<div ng-controller="main">
		<table>
			<tr>
				<th>ID</th>
				<th>Type</th>
				<th>Query</th>
				<th>Status</th>
				<th>Elapsed</th>
				<th>Output</th>
			</tr>
			<tr ng-repeat="l in list track by l.ID">
				<td> {{l.ID}} </td>
				<td> {{l.TYPE}} </td>
				<td> {{l.QUERY}} </td>
				<td> {{l.STATUS}} </td>
				<td> <p ng-if="l.STATUS!='DISCONNECTED'">{{l.ELAPSED}}</p> </td>
				<td> 
					<div ng-repeat="o in l.OUT">
						<div ng-if="l.TYPE=='SEARCH'">
							<a ng-click="download(o)"> {{o }}</a>
						</div>
						<div ng-if="l.TYPE=='BOOK'">
							<a ng-href="/test/{{o}}" target="_blank">Download {{o }}</a>
						</div>
					</div>
				</td>
			</tr>
		</table>
		<div>
			Search books:
			Book:<input type="text" ng-model="book">
			Extension: <input type="text" ng-model="extension">
			<input type="button" value="search" ng-click="searchBook(book,extension)">
		</div>
		<input type="button" value="refresh" ng-click="getList()">
	</div>
</body>
</html>

